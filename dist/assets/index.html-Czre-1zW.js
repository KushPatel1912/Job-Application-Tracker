import{r as c,j as e,c as m}from"./tailwind-CDWFWxRD.js";import{S as a}from"./types-nBKLuWuN.js";function d(t,n){const[o,r]=c.useState(n);return c.useEffect(()=>{chrome.storage.local.get([t],l=>{r(l[t]??n)})},[t]),o}const h=()=>{const t=d(a.lastSubmission,void 0),n=d(a.lastStatus,void 0),[o,r]=c.useState("");c.useEffect(()=>{chrome.storage.local.get([a.sheetId],s=>r(s[a.sheetId]||""))},[]);async function l(){const s=await chrome.runtime.sendMessage({type:"JT_AUTHORIZE"});s!=null&&s.ok?alert("Connected to Google"):alert((s==null?void 0:s.error)||"Authorization failed")}function i(){if(!o){alert("Set your Google Sheet in Options");return}const s=`https://docs.google.com/spreadsheets/d/${encodeURIComponent(o)}`;window.open(s,"_blank")}function x(){chrome.runtime.openOptionsPage?chrome.runtime.openOptionsPage():window.open("/src/options/index.html","_blank")}return e.jsxs("div",{className:"min-w-[280px] p-3 text-slate-900",children:[e.jsx("div",{className:"text-base font-bold mb-2",children:"Job Tracker"}),n&&e.jsx("div",{className:`text-xs mb-2 ${n.ok?"text-green-600":"text-red-600"}`,children:n.message}),e.jsxs("div",{className:"border rounded-xl p-3 shadow-sm",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:"Last submission"}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Company:"})," ",(t==null?void 0:t.company)||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Title:"})," ",(t==null?void 0:t.title)||"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-500",children:"Date:"})," ",(t==null?void 0:t.date)||"—"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("button",{className:"px-3 py-2 rounded-lg bg-blue-600 text-white",onClick:i,children:"Open Sheet"}),e.jsx("button",{className:"px-3 py-2 rounded-lg border",onClick:l,children:"Connect"}),e.jsx("button",{className:"text-xs text-slate-500 underline",onClick:x,children:"Options"})]})]})},p=document.getElementById("root"),u=m(p);u.render(e.jsx(h,{}));
//# sourceMappingURL=index.html-Czre-1zW.js.map
