{"version":3,"file":"contentScript.ts-BRusHiKb.js","sources":["../../src/contentScript.ts"],"sourcesContent":["/** @format */\n\n// Port of contentScript to TypeScript with the same heuristics\n\nconst JT_DEBOUNCE_MS = 8000;\nlet jtLastSubmitAt = 0;\n\nfunction normalizedText(\n  node: Element | null | undefined\n): string {\n  return (\n    (node as any)?.innerText ||\n    (node as any)?.textContent ||\n    \"\"\n  ).trim();\n}\n\nfunction includesAny(\n  text: string,\n  keywords: string[]\n) {\n  const t = (text || \"\").toLowerCase();\n  return keywords.some((k) => t.includes(k));\n}\n\nfunction getInputValue(\n  el:\n    | HTMLInputElement\n    | HTMLSelectElement\n    | HTMLTextAreaElement\n    | null\n): string {\n  if (!el) return \"\";\n  const tag = (el.tagName || \"\").toUpperCase();\n  const type =\n    (el as HTMLInputElement).type?.toLowerCase?.() ||\n    \"\";\n  if (type === \"checkbox\")\n    return (el as HTMLInputElement).checked\n      ? \"Yes\"\n      : \"No\";\n  if (tag === \"SELECT\") {\n    const sel = el as HTMLSelectElement;\n    return (\n      sel.options?.[sel.selectedIndex]?.text ||\n      sel.value ||\n      \"\"\n    );\n  }\n  return (el as HTMLInputElement).value || \"\";\n}\n\nfunction findByLabel(\n  form: Element | Document,\n  keywordList: string[]\n) {\n  const labels = form\n    ? Array.from(form.querySelectorAll(\"label\"))\n    : [];\n  for (const label of labels) {\n    const labelText =\n      normalizedText(label).toLowerCase();\n    if (!labelText) continue;\n    if (\n      keywordList.some((k) => labelText.includes(k))\n    ) {\n      const forId = label.getAttribute(\"for\");\n      if (forId) {\n        const target = form.querySelector(\n          `#${CSS.escape(forId)}`\n        ) as any;\n        const v = getInputValue(target);\n        if (v) return v.trim();\n      }\n      const input = label.querySelector(\n        \"input,select,textarea\"\n      ) as any;\n      const v2 = getInputValue(input);\n      if (v2) return v2.trim();\n    }\n  }\n  return \"\";\n}\n\nfunction findByAttr(\n  form: Element | Document,\n  keywordList: string[]\n) {\n  const fields = Array.from(\n    form?.querySelectorAll(\"input,select,textarea\") ||\n      []\n  );\n  for (const field of fields) {\n    const name = (\n      field.getAttribute(\"name\") || \"\"\n    ).toLowerCase();\n    const id = ((field as any).id || \"\").toLowerCase();\n    const aria = (\n      field.getAttribute(\"aria-label\") || \"\"\n    ).toLowerCase();\n    const placeholder = (\n      field.getAttribute(\"placeholder\") || \"\"\n    ).toLowerCase();\n    const hay = `${name} ${id} ${aria} ${placeholder}`;\n    if (keywordList.some((k) => hay.includes(k))) {\n      const v = getInputValue(field as any);\n      if (v) return v.trim();\n    }\n  }\n  return \"\";\n}\n\nfunction findResumeFilename(\n  form?: Element | Document | null\n) {\n  const inputs = Array.from(\n    form?.querySelectorAll('input[type=\"file\"]') || []\n  );\n  for (const input of inputs) {\n    const fileInput = input as HTMLInputElement;\n    if (\n      fileInput.files &&\n      fileInput.files.length > 0\n    ) {\n      return fileInput.files[0]?.name || \"\";\n    }\n    if (fileInput.value) {\n      const parts = fileInput.value.split(/[\\\\/]/);\n      return parts[parts.length - 1] || \"\";\n    }\n  }\n  return \"\";\n}\n\nfunction pageHeuristics() {\n  const titleMeta = document.querySelector(\n    'meta[property=\"og:title\"], meta[name=\"title\"]'\n  );\n  const titleCandidate =\n    titleMeta?.getAttribute(\"content\") ||\n    document.title ||\n    \"\";\n  const companyEl = document.querySelector(\n    '[data-company-name], [class*=\"company\" i], [class*=\"employer\" i]'\n  );\n  const companyCandidate = normalizedText(\n    companyEl || undefined\n  );\n  const locationEl = document.querySelector(\n    '[class*=\"location\" i], [data-test*=\"location\" i]'\n  );\n  const locationCandidate = normalizedText(\n    locationEl || undefined\n  );\n  const bodyText =\n    document.body?.innerText?.toLowerCase() || \"\";\n  let workMode = \"\";\n  if (bodyText.includes(\"remote\")) workMode = \"Remote\";\n  else if (bodyText.includes(\"hybrid\"))\n    workMode = \"Hybrid\";\n  else if (\n    bodyText.includes(\"on-site\") ||\n    bodyText.includes(\"onsite\") ||\n    bodyText.includes(\"on site\")\n  )\n    workMode = \"On-site\";\n  return {\n    title: titleCandidate,\n    company: companyCandidate,\n    location: locationCandidate,\n    workMode,\n  };\n}\n\nfunction isLikelyJobApplication(\n  form?: Element | Document | null\n) {\n  const urlStr = (location.href || \"\").toLowerCase();\n  const urlVendors = [\n    \"greenhouse\",\n    \"lever.co\",\n    \"boards.greenhouse.io\",\n    \"workday\",\n    \"myworkdayjobs\",\n    \"ashbyhq\",\n    \"ashby\",\n    \"smartrecruiters\",\n    \"workable\",\n    \"icims\",\n    \"bamboohr\",\n    \"jobs.lever\",\n    \"workforcenow\",\n    \"jobvite\",\n    \"recruitee\",\n    \"lever\",\n    \"greenhouse.io\",\n  ];\n  const urlLikely =\n    urlVendors.some((v) => urlStr.includes(v)) ||\n    includesAny(urlStr, [\n      \"job\",\n      \"jobs\",\n      \"careers\",\n      \"apply\",\n    ]);\n\n  const scope = (form as Element) || document;\n  const fields = Array.from(\n    scope.querySelectorAll(\"input,select,textarea\")\n  ) as HTMLInputElement[];\n  const hasPassword = fields.some(\n    (f) =>\n      (f.getAttribute(\"type\") || \"\").toLowerCase() ===\n      \"password\"\n  );\n  if (hasPassword) return false;\n\n  const textOnPage = (\n    document.body?.innerText || \"\"\n  ).toLowerCase();\n  const hasJobKeywordsOnPage = includesAny(\n    textOnPage,\n    [\n      \"apply\",\n      \"job\",\n      \"position\",\n      \"role\",\n      \"employment\",\n      \"experience\",\n      \"resume\",\n      \"cv\",\n      \"cover letter\",\n    ]\n  );\n  const hasResumeInput = fields.some(\n    (f) =>\n      (f.getAttribute(\"type\") || \"\").toLowerCase() ===\n      \"file\"\n  );\n  const hasCoverLetterField = fields.some((f) => {\n    const name = (\n      f.getAttribute(\"name\") || \"\"\n    ).toLowerCase();\n    const id = (f.id || \"\").toLowerCase();\n    const aria = (\n      f.getAttribute(\"aria-label\") || \"\"\n    ).toLowerCase();\n    const placeholder = (\n      f.getAttribute(\"placeholder\") || \"\"\n    ).toLowerCase();\n    const hay = `${name} ${id} ${aria} ${placeholder}`;\n    return includesAny(hay, [\"cover\", \"cover letter\"]);\n  });\n  const submitButtons = Array.from(\n    scope.querySelectorAll(\n      'button,input[type=\"submit\"], [role=\"button\"]'\n    )\n  );\n  const hasApplyButton = submitButtons.some((btn) =>\n    includesAny(\n      (\n        (btn as HTMLElement).innerText ||\n        (btn as HTMLInputElement).value ||\n        btn.textContent ||\n        \"\"\n      )\n        .trim()\n        .toLowerCase(),\n      [\n        \"apply\",\n        \"submit application\",\n        \"send application\",\n        \"apply now\",\n        \"submit\",\n      ]\n    )\n  );\n  const meaningfulFields = fields.filter((f) => {\n    const type = (\n      f.getAttribute(\"type\") || \"\"\n    ).toLowerCase();\n    return (\n      [\"hidden\", \"button\", \"submit\", \"reset\"].indexOf(\n        type\n      ) === -1\n    );\n  });\n  const fieldCountOk =\n    meaningfulFields.length >= 3 ||\n    hasResumeInput ||\n    hasCoverLetterField;\n  const signals = [\n    urlLikely,\n    hasJobKeywordsOnPage,\n    hasResumeInput,\n    hasCoverLetterField,\n    hasApplyButton,\n    fieldCountOk,\n  ];\n  const strongSignalCount =\n    signals.filter(Boolean).length;\n  return strongSignalCount >= 2 && !hasPassword;\n}\n\nfunction extractJobData(\n  form?: Element | Document | null\n) {\n  const nowIso = new Date().toISOString().slice(0, 10);\n  const url = location.href;\n  const companyKeywords = [\n    \"company\",\n    \"organisation\",\n    \"organization\",\n    \"employer\",\n    \"org\",\n  ];\n  const locationKeywords = [\n    \"location\",\n    \"city\",\n    \"state\",\n    \"country\",\n  ];\n  const titleKeywords = [\n    \"title\",\n    \"position\",\n    \"role\",\n    \"job title\",\n  ];\n  const modeKeywords = [\n    \"remote\",\n    \"hybrid\",\n    \"on-site\",\n    \"onsite\",\n    \"on site\",\n    \"work type\",\n    \"work mode\",\n  ];\n  const scope = (form as Element) || document;\n  const byLabel = {\n    company: findByLabel(scope, companyKeywords),\n    location: findByLabel(scope, locationKeywords),\n    title: findByLabel(scope, titleKeywords),\n    workMode: findByLabel(scope, modeKeywords),\n  };\n  const byAttr = {\n    company:\n      byLabel.company ||\n      findByAttr(scope, companyKeywords),\n    location:\n      byLabel.location ||\n      findByAttr(scope, locationKeywords),\n    title:\n      byLabel.title ||\n      findByAttr(scope, titleKeywords),\n    workMode:\n      byLabel.workMode ||\n      findByAttr(scope, modeKeywords),\n  };\n  const heur = pageHeuristics();\n  const resume = findResumeFilename(scope);\n  return {\n    company: byAttr.company || heur.company || \"\",\n    location: byAttr.location || heur.location || \"\",\n    title: byAttr.title || heur.title || \"\",\n    workMode: byAttr.workMode || heur.workMode || \"\",\n    applicationDate: nowIso,\n    url,\n    resume,\n  };\n}\n\nasync function sendSubmission(data: any) {\n  try {\n    const response = await chrome.runtime.sendMessage({\n      type: \"JOB_APPLICATION_SUBMITTED\",\n      payload: data,\n    });\n    return response;\n  } catch (e: any) {\n    return {\n      ok: false,\n      error: String(e?.message || e),\n    };\n  }\n}\n\nfunction handleSubmitEvent(e: Event) {\n  const now = Date.now();\n  if (now - jtLastSubmitAt < JT_DEBOUNCE_MS) return;\n  jtLastSubmitAt = now;\n  const form =\n    e.target instanceof HTMLFormElement\n      ? e.target\n      : null;\n  if (!isLikelyJobApplication(form)) return;\n  const data = extractJobData(form || document);\n  setTimeout(() => {\n    void sendSubmission(data);\n  }, 10);\n}\n\nfunction handleClickEvent(e: Event) {\n  const el = e.target as HTMLElement | null;\n  if (!el) return;\n  const label = (\n    el.innerText ||\n    el.textContent ||\n    \"\"\n  ).trim();\n  if (!label) return;\n  if (\n    includesAny(label, [\n      \"apply\",\n      \"submit\",\n      \"send application\",\n      \"apply now\",\n      \"submit application\",\n    ])\n  ) {\n    const form = el.closest(\"form\");\n    if (isLikelyJobApplication(form || document)) {\n      handleSubmitEvent({\n        target: form || document,\n      } as any);\n    }\n  }\n}\n\nfunction initListeners() {\n  document.addEventListener(\n    \"submit\",\n    handleSubmitEvent,\n    true\n  );\n  document.addEventListener(\n    \"click\",\n    handleClickEvent,\n    true\n  );\n}\n\ninitListeners();\n"],"names":["jtLastSubmitAt","normalizedText","node","includesAny","text","keywords","t","k","getInputValue","el","_a","_b","_c","_d","tag","sel","findByLabel","form","keywordList","labels","label","labelText","forId","target","v","input","v2","findByAttr","fields","field","name","id","aria","placeholder","hay","findResumeFilename","inputs","fileInput","parts","pageHeuristics","titleMeta","titleCandidate","companyEl","companyCandidate","locationEl","locationCandidate","bodyText","workMode","isLikelyJobApplication","urlStr","urlLikely","scope","hasPassword","f","textOnPage","hasJobKeywordsOnPage","hasResumeInput","hasCoverLetterField","hasApplyButton","btn","fieldCountOk","type","extractJobData","nowIso","url","companyKeywords","locationKeywords","titleKeywords","modeKeywords","byLabel","byAttr","heur","resume","sendSubmission","data","handleSubmitEvent","e","now","handleClickEvent","initListeners"],"mappings":"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"}